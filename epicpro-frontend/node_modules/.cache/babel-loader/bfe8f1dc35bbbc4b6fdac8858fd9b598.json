{"ast":null,"code":"var _jsxFileName = \"/var/www/html/react/epicpro-frontend/src/components/HRMS/Departments/Departments.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport $ from 'jquery';\n\nclass departments extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleEditClick = department => {\n      this.setState({\n        selectedDepartment: department\n      });\n    };\n\n    this.handleInputChange = e => {\n      const {\n        name,\n        value\n      } = e.target;\n      this.setState(prevState => ({\n        selectedDepartment: { ...prevState.selectedDepartment,\n          [name]: value // Dynamically update the field\n\n        }\n      }));\n    };\n\n    this.saveChanges = () => {\n      const {\n        selectedDepartment\n      } = this.state;\n      if (!selectedDepartment) return; // Example API call\n\n      fetch(`http://localhost/react/epicpro-backend/get_departments.php?action=edit&id=${selectedDepartment.id}`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          department_name: selectedDepartment.department_name,\n          department_head: selectedDepartment.department_head\n        })\n      }).then(response => {\n        if (!response.ok) {\n          throw new Error('Failed to update department');\n        }\n\n        return response.json();\n      }).then(data => {\n        if (data.success) {\n          this.setState(prevState => {\n            // Update the existing department in the array\n            const updatedDepartmentData = prevState.departmentData.map(dept => dept.id === selectedDepartment.id ? { ...dept,\n              ...data.updatedDepartmentData\n            } : dept);\n            return {\n              departmentData: updatedDepartmentData\n            };\n          });\n          document.querySelector(\"#editDepartmentModal .close\").click(); // Optionally reload the department data here\n        } else {\n          console.log('Failed to update department!');\n        }\n      }).catch(error => console.error('Error updating department:', error));\n    };\n\n    this.openModal = departmentId => {\n      this.setState({\n        departmentToDelete: departmentId // Save the department data\n\n      });\n    };\n\n    this.confirmDelete = () => {\n      const {\n        departmentToDelete\n      } = this.state;\n      if (!departmentToDelete) return;\n      fetch(`http://localhost/react/epicpro-backend/get_departments.php?action=delete&id=${departmentToDelete}`, {\n        method: 'DELETE',\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }).then(response => response.json()).then(data => {\n        if (data.success) {\n          this.setState(prevState => ({\n            departmentData: prevState.departmentData.filter(d => d.id !== departmentToDelete)\n          }));\n          document.querySelector(\"#deleteDepartmentModal .close\").click();\n        } else {\n          alert('Failed to delete department.');\n        }\n      }).catch(error => console.error('Error:', error));\n    };\n\n    this.handleInputChangeForAddDepartment = event => {\n      const {\n        name,\n        value\n      } = event.target;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.addDepartmentData = () => {\n      const {\n        departmentName,\n        departmentHead\n      } = this.state; // Validate form inputs\n\n      if (!departmentName || !departmentHead) {\n        alert(\"Please fill in all fields\");\n        return;\n      }\n\n      const addDepartmentFormData = new FormData();\n      addDepartmentFormData.append('department_name', departmentName);\n      addDepartmentFormData.append('department_head', departmentHead); // API call to add department\n\n      fetch(\"http://localhost/react/epicpro-backend/get_departments.php?action=add\", {\n        method: \"POST\",\n        body: addDepartmentFormData\n      }).then(response => response.json()).then(data => {\n        if (data.success) {\n          alert(\"Department added successfully\"); // Update the department list\n\n          this.setState(prevState => ({\n            departmentData: [...(prevState.departmentData || []), data.newDepartment],\n            // Assuming the backend returns the new department\n            departmentName: \"\",\n            departmentHead: \"\",\n            numOfEmployees: \"\"\n          })); // Close the modal\n\n          document.querySelector(\"#addDepartmentModal .close\").click();\n        } else {\n          alert(\"Failed to add department\");\n        }\n      }).catch(error => console.error(\"Error:\", error));\n    };\n\n    this.state = {\n      departmentName: \"\",\n      departmentHead: \"\",\n      departmentData: [],\n      // To store the list of users\n      selectedDepartment: null,\n      departmentToDelete: null,\n      message: null // To store error messages\n\n    };\n  } // Handle edit button click\n\n\n  componentDidMount() {\n    fetch('http://localhost/react/epicpro-backend/get_departments.php?action=view') // fetch(`https://cors-anywhere.herokuapp.com/https://abundantpractices.com/hr/get_departments.php`)\n    .then(response => response.json()).then(data => {\n      if (data.status === 'success') {\n        this.setState({\n          departmentData: data.data\n        }); // Update users in state\n      } else {\n        this.setState({\n          message: data.message\n        }); // Update error in state\n      }\n    }).catch(err => {\n      this.setState({\n        message: 'Failed to fetch data'\n      });\n      console.error(err);\n    });\n  }\n\n  render() {\n    const {\n      fixNavbar\n    } = this.props;\n    const {\n      departmentName,\n      departmentHead,\n      departmentData,\n      selectedDepartment,\n      message\n    } = this.state;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: `section-body ${fixNavbar ? \"marginTop\" : \"\"} `,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-fluid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex justify-content-between align-items-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"nav nav-tabs page-header-tab\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      className: \"nav-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      className: \"nav-link active\",\n      id: \"Departments-tab\",\n      \"data-toggle\": \"tab\",\n      href: \"#Departments-list\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 66\n      }\n    }, \"List View\")), /*#__PURE__*/React.createElement(\"li\", {\n      className: \"nav-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      className: \"nav-link\",\n      id: \"Departments-tab\",\n      \"data-toggle\": \"tab\",\n      href: \"#Departments-grid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 66\n      }\n    }, \"Grid View\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"header-action\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-primary\",\n      \"data-toggle\": \"modal\",\n      \"data-target\": \"#addDepartmentModal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fe fe-plus mr-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 145\n      }\n    }), \"Add\"))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"section-body mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-fluid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"tab-content mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"tab-pane fade show active\",\n      id: \"Departments-list\",\n      role: \"tabpanel\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"card-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 49\n      }\n    }, \"Departments List\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-options\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 57\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control form-control-sm\",\n      placeholder: \"Search something...\",\n      name: \"s\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 61\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"input-group-btn ml-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 61\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-icon\",\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 100\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"fe fe-search\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 147\n      }\n    }))))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table-responsive\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table table-striped table-vcenter table-hover mb-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 57\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 61\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 65\n      }\n    }, \"#\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 65\n      }\n    }, \"Department Name\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 65\n      }\n    }, \"Department Head\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 65\n      }\n    }, \"Total Employee\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 65\n      }\n    }, \"Action\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 57\n      }\n    }, departmentData.length > 0 ? departmentData.map((department, index) => /*#__PURE__*/React.createElement(\"tr\", {\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 69\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 73\n      }\n    }, index + 1), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 73\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"font-15\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 77\n      }\n    }, department.department_name)), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 73\n      }\n    }, department.department_head), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 73\n      }\n    }, \"102\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 73\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-icon\",\n      title: \"Edit\",\n      \"data-toggle\": \"modal\",\n      \"data-target\": \"#editDepartmentModal\",\n      onClick: () => this.handleEditClick(department),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 77\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-edit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 81\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-icon btn-sm js-sweetalert\",\n      title: \"Delete\",\n      \"data-type\": \"confirm\",\n      onClick: () => this.openModal(department.id),\n      \"data-toggle\": \"modal\",\n      \"data-target\": \"#deleteDepartmentModal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 77\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-trash-o text-danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 81\n      }\n    }))))) : !message && /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 77\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 81\n      }\n    }, \"Department not found\")))))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"tab-pane fade\",\n      id: \"Departments-grid\",\n      role: \"tabpanel\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row clearfix\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 41\n      }\n    }, departmentData.length > 0 ? departmentData.map((department, index) => /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-3 col-md-6\",\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 57\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-body text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 61\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"img-thumbnail rounded-circle avatar-xxl\",\n      src: \"../assets/images/sm/avatar2.jpg\",\n      alt: \"fake_url\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 65\n      }\n    }), /*#__PURE__*/React.createElement(\"h6\", {\n      className: \"mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 65\n      }\n    }, department.department_head), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-center text-muted mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 65\n      }\n    }, department.department_name), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-icon btn-outline-primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 65\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-pencil\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 132\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-icon btn-outline-danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 65\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-trash\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 131\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-footer text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 61\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row clearfix\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 65\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 69\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      className: \"mb-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 73\n      }\n    }, \"105\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-muted\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 73\n      }\n    }, \"Employee\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 69\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      className: \"mb-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 73\n      }\n    }, \"$3100\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-muted\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 73\n      }\n    }, \"Earnings\"))))))) : /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      colSpan: \"2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 53\n      }\n    }, \"Department not found\")))))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal fade\",\n      id: \"addDepartmentModal\",\n      tabIndex: -1,\n      role: \"dialog\",\n      \"aria-labelledby\": \"addDepartmentModalLabel\"\n      /* aria-hidden=\"true\" */\n      ,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-dialog\",\n      role: \"document\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      className: \"modal-title\",\n      id: \"addDepartmentModalLabel\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 37\n      }\n    }, \"Add Departments\"), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"close\",\n      \"data-dismiss\": \"modal\",\n      \"aria-label\": \"Close\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      \"aria-hidden\": \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 117\n      }\n    }, \"\\xD7\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row clearfix\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      placeholder: \"Departments Name\",\n      name: \"departmentName\",\n      value: departmentName,\n      onChange: this.handleInputChangeForAddDepartment,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 49\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      placeholder: \"Departments Head\",\n      name: \"departmentHead\",\n      value: departmentHead,\n      onChange: this.handleInputChangeForAddDepartment,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 49\n      }\n    }))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-footer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-secondary\",\n      \"data-dismiss\": \"modal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 37\n      }\n    }, \"Close\"), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      onClick: this.addDepartmentData,\n      className: \"btn btn-primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 354,\n        columnNumber: 37\n      }\n    }, \"Save changes\"))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal fade\",\n      id: \"editDepartmentModal\",\n      tabIndex: -1,\n      role: \"dialog\",\n      \"aria-labelledby\": \"editDepartmentModalLabel\"\n      /* aria-hidden=\"true\" */\n      ,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 361,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-dialog\",\n      role: \"document\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 363,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 364,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      className: \"modal-title\",\n      id: \"editDepartmentModalLabel\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 365,\n        columnNumber: 37\n      }\n    }, \"Edit Departments\"), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"close\",\n      \"data-dismiss\": \"modal\",\n      \"aria-label\": \"Close\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 366,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      \"aria-hidden\": \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 366,\n        columnNumber: 117\n      }\n    }, \"\\xD7\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 368,\n        columnNumber: 33\n      }\n    }, selectedDepartment ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row clearfix\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 372,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 373,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"form-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 374,\n        columnNumber: 57\n      }\n    }, \"Departments Name\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      value: selectedDepartment.department_name,\n      onChange: this.handleInputChange,\n      name: \"department_name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 375,\n        columnNumber: 57\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 383,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 384,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"form-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 385,\n        columnNumber: 57\n      }\n    }, \"Departments Head\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      value: selectedDepartment.department_head,\n      onChange: this.handleInputChange,\n      name: \"department_head\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 386,\n        columnNumber: 57\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 394,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 395,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"form-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 396,\n        columnNumber: 57\n      }\n    }, \"Total Employee\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"number\",\n      className: \"form-control\",\n      value: \"102\",\n      onChange: this.handleInputChange,\n      name: \"total_employee\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 397,\n        columnNumber: 57\n      }\n    }))))) : /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 409,\n        columnNumber: 41\n      }\n    }, \"Loading department data...\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-footer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 412,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-secondary\",\n      \"data-dismiss\": \"modal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 413,\n        columnNumber: 37\n      }\n    }, \"Close\"), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-primary\",\n      onClick: this.saveChanges,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 414,\n        columnNumber: 37\n      }\n    }, \"Save changes\"))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal fade\",\n      id: \"deleteDepartmentModal\",\n      tabIndex: -1,\n      role: \"dialog\",\n      \"aria-labelledby\": \"deleteDepartmentModalLabel\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 421,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-dialog\",\n      role: \"document\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 424,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 425,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 426,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row clearfix\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 427,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 428,\n        columnNumber: 41\n      }\n    }, \"Are you sure you want to delete the department?\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-footer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 431,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-secondary close\",\n      \"data-dismiss\": \"modal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 432,\n        columnNumber: 37\n      }\n    }, \"Cancel\"), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      onClick: this.confirmDelete,\n      className: \"btn btn-danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 433,\n        columnNumber: 37\n      }\n    }, \"Delete\")))))));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  fixNavbar: state.settings.isFixNavbar\n});\n\nconst mapDispatchToProps = dispatch => ({});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(departments);","map":{"version":3,"sources":["/var/www/html/react/epicpro-frontend/src/components/HRMS/Departments/Departments.js"],"names":["React","Component","connect","$","departments","constructor","props","handleEditClick","department","setState","selectedDepartment","handleInputChange","e","name","value","target","prevState","saveChanges","state","fetch","id","method","headers","body","JSON","stringify","department_name","department_head","then","response","ok","Error","json","data","success","updatedDepartmentData","departmentData","map","dept","document","querySelector","click","console","log","catch","error","openModal","departmentId","departmentToDelete","confirmDelete","filter","d","alert","handleInputChangeForAddDepartment","event","addDepartmentData","departmentName","departmentHead","addDepartmentFormData","FormData","append","newDepartment","numOfEmployees","message","componentDidMount","status","err","render","fixNavbar","length","index","mapStateToProps","settings","isFixNavbar","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { connect } from 'react-redux';\r\nimport $ from 'jquery';\r\n\r\nclass departments extends Component {\r\n    constructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n            departmentName: \"\",\r\n            departmentHead: \"\",\r\n            departmentData: [], // To store the list of users\r\n            selectedDepartment: null,\r\n            departmentToDelete: null,\r\n\t\t    message: null, // To store error messages\r\n\t\t};\r\n\t}\r\n\r\n    // Handle edit button click\r\n    handleEditClick = (department) => {\r\n        this.setState({ selectedDepartment: department });\r\n    };\r\n\r\n    // Handle input change for editing fields\r\n    handleInputChange = (e) => {\r\n        const { name, value } = e.target;\r\n        this.setState((prevState) => ({\r\n            selectedDepartment: {\r\n                ...prevState.selectedDepartment,\r\n                [name]: value, // Dynamically update the field\r\n            },\r\n        }));\r\n    };\r\n\r\n    // Save the changes (API call)\r\n    saveChanges = () => {\r\n        const { selectedDepartment } = this.state;\r\n        if (!selectedDepartment) return;\r\n\r\n        // Example API call\r\n        fetch(`http://localhost/react/epicpro-backend/get_departments.php?action=edit&id=${selectedDepartment.id}`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify({\r\n                department_name: selectedDepartment.department_name,\r\n                department_head: selectedDepartment.department_head,\r\n            }),\r\n        })\r\n        .then((response) => {\r\n            if (!response.ok) {\r\n                throw new Error('Failed to update department');\r\n            }\r\n            return response.json();\r\n        })\r\n        .then((data) => {\r\n            if (data.success) {\r\n                this.setState((prevState) => {\r\n                    // Update the existing department in the array\r\n                    const updatedDepartmentData = prevState.departmentData.map((dept) =>\r\n                        dept.id === selectedDepartment.id ? { ...dept, ...data.updatedDepartmentData } : dept\r\n                    );\r\n                \r\n                    return {\r\n                        departmentData: updatedDepartmentData,\r\n                    };\r\n                });\r\n                \r\n\r\n                document.querySelector(\"#editDepartmentModal .close\").click();\r\n                // Optionally reload the department data here\r\n            } else {\r\n                console.log('Failed to update department!');\r\n            }\r\n        })\r\n        .catch((error) => console.error('Error updating department:', error));\r\n    };\r\n\r\n    openModal = (departmentId) => {\r\n        this.setState({\r\n            departmentToDelete: departmentId, // Save the department data\r\n        });\r\n    };\r\n      \r\n    confirmDelete = () => {\r\n        const { departmentToDelete } = this.state;\r\n      \r\n        if (!departmentToDelete) return;\r\n      \r\n        fetch(`http://localhost/react/epicpro-backend/get_departments.php?action=delete&id=${departmentToDelete}`, {\r\n          method: 'DELETE',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n          },\r\n        })\r\n        .then((response) => response.json())\r\n        .then((data) => {\r\n        if (data.success) {\r\n            this.setState((prevState) => ({\r\n                departmentData: prevState.departmentData.filter((d) => d.id !== departmentToDelete),\r\n            }));\r\n            document.querySelector(\"#deleteDepartmentModal .close\").click();\r\n        } else {\r\n            alert('Failed to delete department.');\r\n        }\r\n        })\r\n        .catch((error) => console.error('Error:', error));\r\n    };\r\n\r\n    // Handle input changes\r\n    handleInputChangeForAddDepartment = (event) => {\r\n        const { name, value } = event.target;\r\n        this.setState({ [name]: value });\r\n    };\r\n\r\n    // Add department data API call\r\n    addDepartmentData = () => {\r\n        const { departmentName, departmentHead} = this.state;\r\n\r\n        // Validate form inputs\r\n        if (!departmentName || !departmentHead) {\r\n            alert(\"Please fill in all fields\");\r\n            return;\r\n        }\r\n\r\n        const addDepartmentFormData = new FormData();\r\n        addDepartmentFormData.append('department_name', departmentName);\r\n        addDepartmentFormData.append('department_head', departmentHead);\r\n\r\n        // API call to add department\r\n        fetch(\"http://localhost/react/epicpro-backend/get_departments.php?action=add\", {\r\n            method: \"POST\",\r\n            body: addDepartmentFormData,\r\n        })\r\n        .then((response) => response.json())\r\n        .then((data) => {\r\n            if (data.success) {\r\n                alert(\"Department added successfully\");\r\n                // Update the department list\r\n                this.setState((prevState) => ({\r\n                    departmentData: [...(prevState.departmentData || []), data.newDepartment], // Assuming the backend returns the new department\r\n                    departmentName: \"\",\r\n                    departmentHead: \"\",\r\n                    numOfEmployees: \"\",\r\n                }));\r\n                // Close the modal\r\n                document.querySelector(\"#addDepartmentModal .close\").click();\r\n            } else {\r\n                alert(\"Failed to add department\");\r\n            }\r\n        })\r\n        .catch((error) => console.error(\"Error:\", error));\r\n    };\r\n\r\n    componentDidMount() {\r\n        fetch('http://localhost/react/epicpro-backend/get_departments.php?action=view')\r\n        // fetch(`https://cors-anywhere.herokuapp.com/https://abundantpractices.com/hr/get_departments.php`)\r\n\t\t.then(response => response.json())\r\n\t\t.then(data => {\r\n\t\t\tif (data.status === 'success') {\r\n\t\t\t    this.setState({ departmentData: data.data }); // Update users in state\r\n\t\t\t} else {\r\n\t\t\t    this.setState({ message: data.message }); // Update error in state\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch(err => {\r\n\t\t\tthis.setState({ message: 'Failed to fetch data' });\r\n\t\t\tconsole.error(err);\r\n\t\t});\r\n    }\r\n\r\n    render() {\r\n        const { fixNavbar } = this.props;\r\n        const { departmentName, departmentHead, departmentData, selectedDepartment, message } = this.state;\r\n        return (\r\n            <>\r\n                <div>\r\n                    <div>\r\n                        <div className={`section-body ${fixNavbar ? \"marginTop\" : \"\"} `}>\r\n                            <div className=\"container-fluid\">\r\n                                <div className=\"d-flex justify-content-between align-items-center\">\r\n                                    <ul className=\"nav nav-tabs page-header-tab\">\r\n                                        <li className=\"nav-item\"><a className=\"nav-link active\" id=\"Departments-tab\" data-toggle=\"tab\" href=\"#Departments-list\">List View</a></li>\r\n                                        <li className=\"nav-item\"><a className=\"nav-link\" id=\"Departments-tab\" data-toggle=\"tab\" href=\"#Departments-grid\">Grid View</a></li>\r\n                                    </ul>\r\n                                    <div className=\"header-action\">\r\n                                        <button type=\"button\" className=\"btn btn-primary\" data-toggle=\"modal\" data-target=\"#addDepartmentModal\"><i className=\"fe fe-plus mr-2\" />Add</button>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"section-body mt-3\">\r\n                            <div className=\"container-fluid\">\r\n                                <div className=\"tab-content mt-3\">\r\n                                    <div className=\"tab-pane fade show active\" id=\"Departments-list\" role=\"tabpanel\">\r\n                                        <div className=\"card\">\r\n                                            <div className=\"card-header\">\r\n                                                <h3 className=\"card-title\">Departments List</h3>\r\n                                                <div className=\"card-options\">\r\n                                                    <form>\r\n                                                        <div className=\"input-group\">\r\n                                                            <input type=\"text\" className=\"form-control form-control-sm\" placeholder=\"Search something...\" name=\"s\" />\r\n                                                            <span className=\"input-group-btn ml-2\"><button className=\"btn btn-icon\" type=\"submit\"><span className=\"fe fe-search\" /></button></span>\r\n                                                        </div>\r\n                                                    </form>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"card-body\">\r\n                                                <div className=\"table-responsive\">\r\n                                                    <table className=\"table table-striped table-vcenter table-hover mb-0\">\r\n                                                        <thead>\r\n                                                            <tr>\r\n                                                                <th>#</th>\r\n                                                                <th>Department Name</th>\r\n                                                                <th>Department Head</th>\r\n                                                                <th>Total Employee</th>\r\n                                                                <th>Action</th>\r\n                                                            </tr>\r\n                                                        </thead>\r\n                                                        <tbody>\r\n                                                            {departmentData.length > 0 ? (\r\n                                                                departmentData.map((department, index) => (\r\n                                                                    <tr key={index}>\r\n                                                                        <td>{index + 1}</td>\r\n                                                                        <td>\r\n                                                                            <div className=\"font-15\">{department.department_name}</div>\r\n                                                                        </td>\r\n                                                                        <td>{department.department_head}</td>\r\n                                                                        <td>102</td>\r\n                                                                        <td>\r\n                                                                            <button \r\n                                                                                type=\"button\"\r\n                                                                                className=\"btn btn-icon\"\r\n                                                                                title=\"Edit\"\r\n                                                                                data-toggle=\"modal\"\r\n                                                                                data-target=\"#editDepartmentModal\"\r\n                                                                                onClick={() => this.handleEditClick(department)}\r\n                                                                            >\r\n                                                                                <i className=\"fa fa-edit\" />\r\n                                                                            </button>\r\n                                                                            <button \r\n                                                                                type=\"button\"\r\n                                                                                className=\"btn btn-icon btn-sm js-sweetalert\"\r\n                                                                                title=\"Delete\"\r\n                                                                                data-type=\"confirm\"\r\n                                                                                onClick={() => this.openModal(department.id)}\r\n                                                                                data-toggle=\"modal\"\r\n                                                                                data-target=\"#deleteDepartmentModal\"\r\n                                                                            >\r\n                                                                                <i className=\"fa fa-trash-o text-danger\" />\r\n                                                                            </button>\r\n                                                                        </td>\r\n                                                                    </tr>\r\n                                                                ))\r\n                                                            ): (\r\n                                                                !message && <tr><td>Department not found</td></tr>\r\n                                                            )}\r\n                                                        </tbody>\r\n                                                    </table>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"tab-pane fade\" id=\"Departments-grid\" role=\"tabpanel\">\r\n                                        <div className=\"row clearfix\">\r\n                                            {departmentData.length > 0 ? (\r\n                                                departmentData.map((department, index) => (\r\n                                                    <div className=\"col-lg-3 col-md-6\" key={index}>\r\n                                                        <div className=\"card\">\r\n                                                            <div className=\"card-body text-center\">\r\n                                                                <img className=\"img-thumbnail rounded-circle avatar-xxl\" src=\"../assets/images/sm/avatar2.jpg\" alt=\"fake_url\" />\r\n                                                                <h6 className=\"mt-3\">{department.department_head}</h6>\r\n                                                                <div className=\"text-center text-muted mb-3\">{department.department_name}</div>\r\n                                                                <button type=\"button\" className=\"btn btn-icon btn-outline-primary\"><i className=\"fa fa-pencil\" /></button>\r\n                                                                <button type=\"button\" className=\"btn btn-icon btn-outline-danger\"><i className=\"fa fa-trash\" /></button>\r\n                                                            </div>\r\n                                                            <div className=\"card-footer text-center\">\r\n                                                                <div className=\"row clearfix\">\r\n                                                                    <div className=\"col-6\">\r\n                                                                        <h5 className=\"mb-0\">105</h5>\r\n                                                                        <div className=\"text-muted\">Employee</div>\r\n                                                                    </div>\r\n                                                                    <div className=\"col-6\">\r\n                                                                        <h5 className=\"mb-0\">$3100</h5>\r\n                                                                        <div className=\"text-muted\">Earnings</div>\r\n                                                                    </div>\r\n                                                                </div>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                ))\r\n                                            ): (\r\n                                                <div>\r\n                                                    <span colSpan=\"2\">Department not found</span>\r\n                                                </div>\r\n                                            )}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                    </div>\r\n                    {/* Add Department Modal */}\r\n                    <div className=\"modal fade\" id=\"addDepartmentModal\" tabIndex={-1} role=\"dialog\" aria-labelledby=\"addDepartmentModalLabel\" /* aria-hidden=\"true\" */>\r\n                        <div className=\"modal-dialog\" role=\"document\">\r\n                            <div className=\"modal-content\">\r\n                                <div className=\"modal-header\">\r\n                                    <h5 className=\"modal-title\" id=\"addDepartmentModalLabel\">Add Departments</h5>\r\n                                    <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><span aria-hidden=\"true\"></span></button>\r\n                                </div>\r\n                                <div className=\"modal-body\">\r\n                                    <div className=\"row clearfix\">\r\n                                        <div className=\"col-md-12\">\r\n                                            <div className=\"form-group\">\r\n                                                <input\r\n                                                    type=\"text\"\r\n                                                    className=\"form-control\"\r\n                                                    placeholder=\"Departments Name\"\r\n                                                    name=\"departmentName\"\r\n                                                    value={departmentName}\r\n                                                    onChange={this.handleInputChangeForAddDepartment}\r\n                                                />\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className=\"col-md-12\">\r\n                                            <div className=\"form-group\">\r\n                                                <input\r\n                                                    type=\"text\"\r\n                                                    className=\"form-control\"\r\n                                                    placeholder=\"Departments Head\"\r\n                                                    name=\"departmentHead\"\r\n                                                    value={departmentHead}\r\n                                                    onChange={this.handleInputChangeForAddDepartment}\r\n                                                />\r\n                                            </div>\r\n                                        </div>\r\n                                        {/* <div className=\"col-md-12\">\r\n                                            <div className=\"form-group\">\r\n                                                <input\r\n                                                    type=\"number\"\r\n                                                    className=\"form-control\"\r\n                                                    placeholder=\"No of Employee\"\r\n                                                    name=\"numOfEmployees\"\r\n                                                    value={numOfEmployees}\r\n                                                    onChange={this.handleInputChangeForAddDepartment}\r\n                                                />\r\n                                            </div>\r\n                                        </div> */}\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"modal-footer\">\r\n                                    <button type=\"button\" className=\"btn btn-secondary\" data-dismiss=\"modal\">Close</button>\r\n                                    <button type=\"button\" onClick={this.addDepartmentData} className=\"btn btn-primary\">Save changes</button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Edit Department Modal */}\r\n                    <div className=\"modal fade\" id=\"editDepartmentModal\" tabIndex={-1} role=\"dialog\" aria-labelledby=\"editDepartmentModalLabel\" /* aria-hidden=\"true\" */>\r\n                        <div className=\"modal-dialog\" role=\"document\">\r\n                            <div className=\"modal-content\">\r\n                                <div className=\"modal-header\">\r\n                                    <h5 className=\"modal-title\" id=\"editDepartmentModalLabel\">Edit Departments</h5>\r\n                                    <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><span aria-hidden=\"true\"></span></button>\r\n                                </div>\r\n                                <div className=\"modal-body\">\r\n                                    {selectedDepartment ? (\r\n                                        <>\r\n                                            <div className=\"row clearfix\">\r\n                                                <div className=\"col-md-12\">\r\n                                                    <div className=\"form-group\">\r\n                                                        <label className=\"form-label\">Departments Name</label>\r\n                                                        <input \r\n                                                            type=\"text\"\r\n                                                            className=\"form-control\"\r\n                                                            value={selectedDepartment.department_name} onChange={this.handleInputChange}\r\n                                                            name=\"department_name\"\r\n                                                        />\r\n                                                    </div>\r\n                                                </div>\r\n                                                <div className=\"col-md-12\">\r\n                                                    <div className=\"form-group\">\r\n                                                        <label className=\"form-label\">Departments Head</label>\r\n                                                        <input\r\n                                                            type=\"text\"\r\n                                                            className=\"form-control\"\r\n                                                            value={selectedDepartment.department_head} onChange={this.handleInputChange}\r\n                                                            name=\"department_head\"\r\n                                                        />\r\n                                                    </div>\r\n                                                </div>\r\n                                                <div className=\"col-md-12\">\r\n                                                    <div className=\"form-group\">\r\n                                                        <label className=\"form-label\">Total Employee</label>\r\n                                                        <input\r\n                                                            type=\"number\"\r\n                                                            className=\"form-control\"\r\n                                                            value=\"102\"\r\n                                                            onChange={this.handleInputChange}\r\n                                                            name=\"total_employee\"\r\n                                                        />\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </>\r\n                                    ) : (\r\n                                        <p>Loading department data...</p>\r\n                                    )}\r\n                                </div>\r\n                                <div className=\"modal-footer\">\r\n                                    <button type=\"button\" className=\"btn btn-secondary\" data-dismiss=\"modal\">Close</button>\r\n                                    <button type=\"button\" className=\"btn btn-primary\" onClick={this.saveChanges}>Save changes</button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Delete Department Model */}\r\n                    <div \r\n                        className=\"modal fade\" id=\"deleteDepartmentModal\" tabIndex={-1} role=\"dialog\" aria-labelledby=\"deleteDepartmentModalLabel\"\r\n                    >\r\n                        <div className=\"modal-dialog\" role=\"document\">\r\n                            <div className=\"modal-content\">\r\n                                <div className=\"modal-body\">\r\n                                    <div className=\"row clearfix\">\r\n                                        <p>Are you sure you want to delete the department?</p>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"modal-footer\">\r\n                                    <button type=\"button\" className=\"btn btn-secondary close\" data-dismiss=\"modal\" >Cancel</button>\r\n                                    <button type=\"button\" onClick={this.confirmDelete} className=\"btn btn-danger\">Delete</button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\nconst mapStateToProps = state => ({\r\n    fixNavbar: state.settings.isFixNavbar\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({})\r\nexport default connect(mapStateToProps, mapDispatchToProps)(departments);"]},"metadata":{},"sourceType":"module"}